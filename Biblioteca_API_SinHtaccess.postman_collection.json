{
  "info": {
    "_postman_id": "biblioteca-api-collection-v2",
    "name": "Biblioteca API - Completa v2.0",
    "description": "API REST completa para gesti√≥n de biblioteca con estad√≠sticas avanzadas y endpoints de verificaci√≥n",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.0"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost/APILibrary",
      "description": "URL base de la API - cambiar para producci√≥n"
    }
  ],
  "item": [
    {
      "name": "üìã Informaci√≥n y Estad√≠sticas",
      "item": [
        {
          "name": "Informaci√≥n de la API",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            },
            "description": "Obtiene informaci√≥n general de la API, endpoints disponibles y ejemplos con URLs autom√°ticas"
          },
          "response": []
        },
        {
          "name": "Estad√≠sticas Completas",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/stats",
              "host": ["{{base_url}}"],
              "path": ["index.php", "stats"]
            },
            "description": "Estad√≠sticas completas: total libros, autores, g√©neros, distribuci√≥n por d√©cada, listas completas"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üîç Verificaci√≥n y Consultas",
      "item": [
        {
          "name": "Verificar Autor Existente",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/check-author/Garc√≠a M√°rquez",
              "host": ["{{base_url}}"],
              "path": ["index.php", "check-author", "Garc√≠a M√°rquez"]
            },
            "description": "Verifica si un autor espec√≠fico existe en la base de datos"
          },
          "response": []
        },
        {
          "name": "Verificar Autor Inexistente",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/check-author/J.K. Rowling",
              "host": ["{{base_url}}"],
              "path": ["index.php", "check-author", "J.K. Rowling"]
            },
            "description": "Ejemplo de verificaci√≥n de autor que no existe"
          },
          "response": []
        },
        {
          "name": "Verificar G√©nero Existente",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/check-genre/Realismo m√°gico",
              "host": ["{{base_url}}"],
              "path": ["index.php", "check-genre", "Realismo m√°gico"]
            },
            "description": "Verifica si un g√©nero espec√≠fico existe en la base de datos"
          },
          "response": []
        },
        {
          "name": "Verificar G√©nero Inexistente",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/check-genre/Ciencia ficci√≥n",
              "host": ["{{base_url}}"],
              "path": ["index.php", "check-genre", "Ciencia ficci√≥n"]
            },
            "description": "Ejemplo de verificaci√≥n de g√©nero que no existe"
          },
          "response": []
        },
        {
          "name": "Informaci√≥n Detallada de Autor",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/author-info/Garc√≠a M√°rquez",
              "host": ["{{base_url}}"],
              "path": ["index.php", "author-info", "Garc√≠a M√°rquez"]
            },
            "description": "Obtiene informaci√≥n detallada de un autor: total libros, disponibilidad, a√±os de publicaci√≥n, g√©neros"
          },
          "response": []
        },
        {
          "name": "Info de Autor con Pocos Libros",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/author-info/Antoine de Saint-Exupery",
              "host": ["{{base_url}}"],
              "path": ["index.php", "author-info", "Antoine de Saint-Exupery"]
            },
            "description": "Ejemplo de autor con un solo libro para ver diferencias en respuesta"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üìö Gesti√≥n de Libros",
      "item": [
        {
          "name": "Obtener Todos los Libros",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/libros",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros"]
            },
            "description": "Obtiene la lista completa de libros en la biblioteca"
          }
        },
        {
          "name": "Obtener Libro por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/libros/1",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros", "1"]
            },
            "description": "Obtiene un libro espec√≠fico por su ID"
          }
        },
        {
          "name": "Crear Nuevo Libro",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"titulo\": \"El nombre del viento\",\n    \"autor\": \"Patrick Rothfuss\",\n    \"isbn\": \"9788401352836\",\n    \"genero\": \"Fantas√≠a\",\n    \"a√±o_publicacion\": 2007,\n    \"disponible\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/index.php/libros",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros"]
            },
            "description": "Crea un nuevo libro en la biblioteca"
          }
        },
        {
          "name": "Actualizar Libro",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"disponible\": false,\n    \"genero\": \"Fantas√≠a √©pica\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/index.php/libros/1",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros", "1"]
            },
            "description": "Actualiza un libro existente (actualizaci√≥n parcial)"
          }
        },
        {
          "name": "Eliminar Libro",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/libros/1",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros", "1"]
            },
            "description": "Elimina un libro de la biblioteca"
          }
        }
      ]
    },
    {
      "name": "üîç Filtros y B√∫squedas",
      "item": [
        {
          "name": "Filtrar por G√©nero",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/libros?genero=Realismo m√°gico",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros"],
              "query": [
                {
                  "key": "genero",
                  "value": "Realismo m√°gico"
                }
              ]
            },
            "description": "Busca libros por g√©nero espec√≠fico"
          }
        },
        {
          "name": "Filtrar por Autor",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/libros?autor=Garc√≠a M√°rquez",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros"],
              "query": [
                {
                  "key": "autor",
                  "value": "Garc√≠a M√°rquez"
                }
              ]
            },
            "description": "Busca libros por autor"
          }
        },
        {
          "name": "Filtrar por Disponibilidad",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/libros?disponible=true",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros"],
              "query": [
                {
                  "key": "disponible",
                  "value": "true"
                }
              ]
            },
            "description": "Filtra libros disponibles o no disponibles"
          }
        },
        {
          "name": "Filtrar por Rango de A√±os",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/libros?a√±o_desde=1950&a√±o_hasta=2000",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros"],
              "query": [
                {
                  "key": "a√±o_desde",
                  "value": "1950"
                },
                {
                  "key": "a√±o_hasta",
                  "value": "2000"
                }
              ]
            },
            "description": "Filtra libros publicados en un rango de a√±os"
          }
        },
        {
          "name": "Filtros Combinados",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/libros?genero=Novela&disponible=true&a√±o_desde=1990",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros"],
              "query": [
                {
                  "key": "genero",
                  "value": "Novela"
                },
                {
                  "key": "disponible",
                  "value": "true"
                },
                {
                  "key": "a√±o_desde",
                  "value": "1990"
                }
              ]
            },
            "description": "Combina m√∫ltiples filtros"
          }
        }
      ]
    },
    {
      "name": "‚ùå Ejemplos de Errores",
      "item": [
        {
          "name": "Error 400 - Bad Request",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/error/400",
              "host": ["{{base_url}}"],
              "path": ["index.php", "error", "400"]
            },
            "description": "Ejemplo de error 400 Bad Request"
          }
        },
        {
          "name": "Error 401 - Unauthorized",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/error/401",
              "host": ["{{base_url}}"],
              "path": ["index.php", "error", "401"]
            },
            "description": "Ejemplo de error 401 Unauthorized"
          }
        },
        {
          "name": "Error 403 - Forbidden",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/error/403",
              "host": ["{{base_url}}"],
              "path": ["index.php", "error", "403"]
            },
            "description": "Ejemplo de error 403 Forbidden"
          }
        },
        {
          "name": "Error 404 - Not Found",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/error/404",
              "host": ["{{base_url}}"],
              "path": ["index.php", "error", "404"]
            },
            "description": "Ejemplo de error 404 Not Found"
          }
        },
        {
          "name": "Error 500 - Internal Server Error",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/error/500",
              "host": ["{{base_url}}"],
              "path": ["index.php", "error", "500"]
            },
            "description": "Ejemplo de error 500 Internal Server Error"
          }
        }
      ]
    },
    {
      "name": "üß™ Casos de Error Reales",
      "item": [
        {
          "name": "Libro No Encontrado (404)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/libros/999",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros", "999"]
            },
            "description": "Intenta obtener un libro que no existe"
          }
        },
        {
          "name": "Crear Libro - Campos Faltantes (400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"titulo\": \"Libro Incompleto\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/index.php/libros",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros"]
            },
            "description": "Intenta crear un libro sin todos los campos obligatorios"
          }
        },
        {
          "name": "Crear Libro - JSON Inv√°lido (400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"titulo\": \"Libro con JSON malo\",\n    \"autor\": \"Sin cerrar comillas\n}"
            },
            "url": {
              "raw": "{{base_url}}/index.php/libros",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros"]
            },
            "description": "Env√≠a JSON malformado"
          }
        },
        {
          "name": "Crear Libro - A√±o Inv√°lido (400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"titulo\": \"Libro del Futuro\",\n    \"autor\": \"Autor Temporal\",\n    \"isbn\": \"9781234567890\",\n    \"genero\": \"Ciencia Ficci√≥n\",\n    \"a√±o_publicacion\": 2030,\n    \"disponible\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/index.php/libros",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros"]
            },
            "description": "Intenta crear un libro con a√±o futuro"
          }
        },
        {
          "name": "Actualizar Libro No Existente (404)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"disponible\": false\n}"
            },
            "url": {
              "raw": "{{base_url}}/index.php/libros/999",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros", "999"]
            },
            "description": "Intenta actualizar un libro que no existe"
          }
        },
        {
          "name": "Eliminar Libro No Existente (404)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/libros/999",
              "host": ["{{base_url}}"],
              "path": ["index.php", "libros", "999"]
            },
            "description": "Intenta eliminar un libro que no existe"
          }
        },
        {
          "name": "Endpoint No V√°lido (404)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/index.php/endpoint-inexistente",
              "host": ["{{base_url}}"],
              "path": ["index.php", "endpoint-inexistente"]
            },
            "description": "Accede a un endpoint que no existe"
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    }
  ]
}
